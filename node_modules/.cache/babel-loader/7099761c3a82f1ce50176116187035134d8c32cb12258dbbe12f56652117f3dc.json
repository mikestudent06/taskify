{"ast":null,"code":"import _objectSpread from\"C:/Users/mikeS/OneDrive/Bureau/modern-todo-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _toConsumableArray from\"C:/Users/mikeS/OneDrive/Bureau/modern-todo-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/mikeS/OneDrive/Bureau/modern-todo-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{library}from'@fortawesome/fontawesome-svg-core';import{faEdit,faTrash,faCheckCircle,faSave,faTimes}from'@fortawesome/free-solid-svg-icons';import'./SingleTodo.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";library.add(faEdit,faTrash,faCheckCircle,faSave,faTimes);var SingleTodo=function SingleTodo(_ref){var item=_ref.item,todos=_ref.todos,settodos=_ref.settodos;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isEditing=_useState2[0],setIsEditing=_useState2[1];var _useState3=useState(item.todo),_useState4=_slicedToArray(_useState3,2),editedText=_useState4[0],setEditedText=_useState4[1];var handleComplete=function handleComplete(id){var updatedTodos=_toConsumableArray(todos);settodos(updatedTodos.map(function(item){return item.id===id?_objectSpread(_objectSpread({},item),{},{isDone:!item.isDone}):item;}));};var handleDelete=function handleDelete(id){var updatedTodos=_toConsumableArray(todos);settodos(updatedTodos.filter(function(item){return item.id!==id;}));};var handleEdit=function handleEdit(){setIsEditing(true);};var handleSaveEdit=function handleSaveEdit(){var updatedTodos=_toConsumableArray(todos);var editedTodoIndex=updatedTodos.findIndex(function(t){return t.id===item.id;});if(editedTodoIndex!==-1){updatedTodos[editedTodoIndex].todo=editedText;settodos(updatedTodos);setIsEditing(false);}};var handleCancelEdit=function handleCancelEdit(){setIsEditing(false);setEditedText(item.todo);// Reset the edited text to the original value\n};var handleKeyDown=function handleKeyDown(event){if(event.key==='Enter'){event.preventDefault();// Prevent form submission on Enter key press\nhandleSaveEdit();// Call your save function when Enter is pressed\n}};return/*#__PURE__*/_jsx(\"form\",{className:\"SingleTodoContainer\",children:isEditing&&!item.isDone?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:editedText,onChange:function onChange(e){return setEditedText(e.target.value);},onKeyDown:handleKeyDown}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faSave,onClick:handleSaveEdit}),\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTimes,onClick:handleCancelEdit}),\" \"]})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[!item.isDone?/*#__PURE__*/_jsx(\"li\",{children:item.todo},item.id):/*#__PURE__*/_jsx(\"s\",{children:item.todo},item.id),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faEdit,onClick:handleEdit}),\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faTrash,onClick:function onClick(){return handleDelete(item.id);}}),\" \",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faCheckCircle,onClick:function onClick(){return handleComplete(item.id);}}),\" \"]})]})});};export default SingleTodo;","map":{"version":3,"names":["React","useState","FontAwesomeIcon","library","faEdit","faTrash","faCheckCircle","faSave","faTimes","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","add","SingleTodo","_ref","item","todos","settodos","_useState","_useState2","_slicedToArray","isEditing","setIsEditing","_useState3","todo","_useState4","editedText","setEditedText","handleComplete","id","updatedTodos","_toConsumableArray","map","_objectSpread","isDone","handleDelete","filter","handleEdit","handleSaveEdit","editedTodoIndex","findIndex","t","handleCancelEdit","handleKeyDown","event","key","preventDefault","className","children","type","value","onChange","e","target","onKeyDown","icon","onClick"],"sources":["C:/Users/mikeS/OneDrive/Bureau/modern-todo-app/src/components/SingleTodo/SingleTodo.tsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { Todo } from '../../model';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { library } from '@fortawesome/fontawesome-svg-core';\r\nimport { faEdit, faTrash, faCheckCircle, faSave, faTimes } from '@fortawesome/free-solid-svg-icons';\r\nimport './SingleTodo.scss';\r\n\r\nlibrary.add(faEdit, faTrash, faCheckCircle, faSave, faTimes);\r\n\r\ntype Props = {\r\n  item: Todo;\r\n  todos: Todo[];\r\n  settodos: React.Dispatch<React.SetStateAction<Todo[]>>;\r\n};\r\n\r\nconst SingleTodo: React.FC<Props> = ({ item, todos, settodos }) => {\r\n  const [isEditing, setIsEditing] = useState<boolean>(false);\r\n  const [editedText, setEditedText] = useState<string>(item.todo);\r\n  \r\n  const handleComplete = (id: number) => {\r\n    const updatedTodos = [...todos];\r\n    settodos(updatedTodos.map((item) => (item.id === id ? { ...item, isDone: !item.isDone } : item)));\r\n  };\r\n\r\n  const handleDelete = (id: number) => {\r\n    const updatedTodos = [...todos];\r\n    settodos(updatedTodos.filter((item) => item.id !== id));\r\n  };\r\n  \r\n  const handleEdit = () => {\r\n    setIsEditing(true);\r\n  };\r\n  \r\n  const handleSaveEdit = () => {\r\n    const updatedTodos = [...todos];\r\n    const editedTodoIndex = updatedTodos.findIndex((t) => t.id === item.id);\r\n    if (editedTodoIndex !== -1) {\r\n      updatedTodos[editedTodoIndex].todo = editedText;\r\n      settodos(updatedTodos);\r\n      setIsEditing(false);\r\n    }\r\n  };\r\n  \r\n  const handleCancelEdit = () => {\r\n    setIsEditing(false);\r\n    setEditedText(item.todo); // Reset the edited text to the original value\r\n  };\r\n  const handleKeyDown = (event: React.KeyboardEvent<HTMLInputElement>) => {\r\n    if (event.key === 'Enter') {\r\n      event.preventDefault(); // Prevent form submission on Enter key press\r\n      handleSaveEdit(); // Call your save function when Enter is pressed\r\n    }\r\n  };\r\n  \r\n  return (\r\n    <form className=\"SingleTodoContainer\">\r\n      {isEditing && !item.isDone ? (\r\n        <>\r\n          <input type=\"text\" value={editedText} onChange={(e) => setEditedText(e.target.value)} onKeyDown={handleKeyDown}/>\r\n          <span>\r\n            <FontAwesomeIcon icon={faSave} onClick={handleSaveEdit} /> {/* Save icon */}\r\n            <FontAwesomeIcon icon={faTimes} onClick={handleCancelEdit} /> {/* Cancel icon */}\r\n          </span>\r\n        </>\r\n      ) : (\r\n        <>\r\n          {!item.isDone ? (\r\n            <li key={item.id}>\r\n              {item.todo}\r\n            </li>\r\n          ) : (\r\n            <s key={item.id}>\r\n              {item.todo}\r\n            </s>\r\n          )}\r\n          <span>\r\n            <FontAwesomeIcon icon={faEdit} onClick={handleEdit} /> {/* Edit icon */}\r\n            <FontAwesomeIcon icon={faTrash} onClick={() => handleDelete(item.id)} /> {/* Delete icon */}\r\n            <FontAwesomeIcon icon={faCheckCircle} onClick={() => handleComplete(item.id)} /> {/* Complete icon */}\r\n          </span>\r\n        </>\r\n      )}\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default SingleTodo;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}